angular.module("angular-flot",[]).directive("flot",function(){return{restrict:"EA",template:"<div></div>",scope:{dataset:"=",options:"=",callback:"="},link:function(a,c,d){var e,b,f,g,h,k;b=null;g=d.width||"100%";d=d.height||"100%";if((null!=(h=a.options)?null!=(k=h.legend)?k.container:void 0:void 0)instanceof jQuery)throw'Please use a jQuery expression string with the "legend.container" option.';a.dataset||(a.dataset=[]);a.options||(a.options={legend:{show:!1}});f=$(c.children()[0]);f.css({width:g,
height:d});e=function(){var b;b=$.plot(f,a.dataset,a.options);a.callback&&a.callback(b);return b};a.$watch("dataset",function(a){return b?(b.setData(a),b.setupGrid(),b.draw()):b=e()},!0);c=function(){return b=e()};var l=0,m=0;a.$watch(function(){l=$(window).innerWidth();m=$(window).innerHeight();return l*m},c);return a.$watch("options",c,!0)}}});
